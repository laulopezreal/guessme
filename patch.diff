 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/src/App.tsx b/src/App.tsx
index 790c264e7550c6abe3106a0224f2085c305fa3ea..f9f1a0edaaca725ae94bd189f0b00cf99d2f1ee3 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -1,46 +1,49 @@
 import { useState, useCallback, useEffect } from 'react';
 import Header from './components/Header';
 import CharacterSilhouette from './components/CharacterSilhouette';
 import CluesList from './components/CluesList';
 import GuessInput from './components/GuessInput';
 import FeedbackMessage from './components/FeedbackMessage';
 import GameOverModal from './components/GameOverModal';
 import ConversationView from './components/ConversationView';
 import WelcomeModal from './components/WelcomeModal';
 import DocumentationModal from './components/DocumentationModal';
 import { getEnabledFigures } from './data/figuresConfig';
-import { shuffleArray, calculatePoints } from './utils/gameUtils';
+import { calculatePoints, shuffleArray } from './utils/gameUtils';
 import { isLLMConfigured, getInitialGreeting, sendMessage, validateGuess } from './services/llmService';
 import type { HistoricFigure, Message } from './types';
 import './App.css';
 
 function App() {
   const [shuffledFigures, setShuffledFigures] = useState<HistoricFigure[]>([]);
   const [currentFigureIndex, setCurrentFigureIndex] = useState(0);
   const [currentClueIndex, setCurrentClueIndex] = useState(0);
   const [score, setScore] = useState(0);
+  const [consecutiveMisses, setConsecutiveMisses] = useState(0);
+  const [lastRoundBreakdown, setLastRoundBreakdown] = useState<ReturnType<typeof calculatePoints> | null>(null);
+  const [lastRoundNumber, setLastRoundNumber] = useState<number | null>(null);
   const [round, setRound] = useState(1);
   const [gameEnded, setGameEnded] = useState(false);
   const [feedbackMessage, setFeedbackMessage] = useState('');
   const [feedbackType, setFeedbackType] = useState<'success' | 'error' | ''>('');
   const [isRevealed, setIsRevealed] = useState(false);
   const [inputDisabled, setInputDisabled] = useState(false);
   const [showNextButton, setShowNextButton] = useState(false);
   const [triggerShake, setTriggerShake] = useState(false);
   
   // LLM mode state
   const [llmMode, setLlmMode] = useState(isLLMConfigured());
   const [messages, setMessages] = useState<Message[]>([]);
   const [questionsAsked, setQuestionsAsked] = useState(0);
   const [isTyping, setIsTyping] = useState(false);
   const [showWelcome, setShowWelcome] = useState(true);
   const [showDocs, setShowDocs] = useState(false);
 
   // Current figure
   const currentFigure = shuffledFigures[currentFigureIndex];
 
   // Initialize conversation with AI greeting
   const initializeConversation = useCallback(async (figure: HistoricFigure) => {
     if (!llmMode) return;
     
     setIsTyping(true);
@@ -49,50 +52,53 @@ function App() {
       const greetingMessage: Message = {
         id: `msg-${Date.now()}`,
         role: 'assistant',
         content: greeting,
         timestamp: Date.now(),
       };
       setMessages([greetingMessage]);
     } catch (error) {
       console.error('Failed to get initial greeting:', error);
       setFeedbackMessage('AI mode failed. Switching to classic mode.');
       setFeedbackType('error');
       setLlmMode(false);
     } finally {
       setIsTyping(false);
     }
   }, [llmMode]);
 
   // Initialize game
   const initializeGame = useCallback(() => {
     const enabledFigures = getEnabledFigures();
     const shuffled = shuffleArray(enabledFigures);
     setShuffledFigures(shuffled);
     setCurrentFigureIndex(0);
     setCurrentClueIndex(1); // Start with first clue revealed
     setScore(0);
+    setConsecutiveMisses(0);
+    setLastRoundBreakdown(null);
+    setLastRoundNumber(null);
     setRound(1);
     setGameEnded(false);
     setFeedbackMessage('');
     setFeedbackType('');
     setIsRevealed(false);
     setInputDisabled(false);
     setShowNextButton(false);
     setMessages([]);
     setQuestionsAsked(0);
   }, []);
 
   // Initialize on mount
   useEffect(() => {
     initializeGame();
   }, [initializeGame]);
 
   // Initialize conversation when figure changes in LLM mode
   useEffect(() => {
     if (llmMode && currentFigure && messages.length === 0) {
       initializeConversation(currentFigure);
     }
   }, [llmMode, currentFigure, messages.length, initializeConversation]);
 
   // Reveal next clue
   const revealNextClue = useCallback(() => {
@@ -130,163 +136,184 @@ function App() {
         timestamp: Date.now(),
       };
 
       setMessages(prev => [...prev, assistantMessage]);
     } catch (error) {
       console.error('Failed to get AI response:', error);
       setFeedbackMessage('Failed to get AI response. Try again.');
       setFeedbackType('error');
     } finally {
       setIsTyping(false);
     }
   }, [currentFigure, llmMode, messages, questionsAsked]);
 
   // Check guess
   const handleGuess = useCallback(async (guess: string) => {
     if (!currentFigure) return;
 
     // LLM mode: use AI validation
     if (llmMode) {
       setIsTyping(true);
       try {
         const result = await validateGuess(guess, currentFigure, messages);
 
         if (result.isCorrect) {
           // Correct guess
-          const points = Math.max(25, 100 - (questionsAsked * 5));
-          setScore(prev => prev + points);
-          setFeedbackMessage(`${result.feedback} You earned ${points} points!`);
+          const breakdown = calculatePoints({
+            cluesUsed: 1,
+            adaptiveHintsUsed: questionsAsked,
+            consecutiveMisses,
+          });
+          setScore(prev => prev + breakdown.total);
+          setLastRoundBreakdown(breakdown);
+          setLastRoundNumber(round);
+          setConsecutiveMisses(0);
+          setFeedbackMessage(
+            `${result.feedback} You earned ${breakdown.total} points!`
+          );
           setFeedbackType('success');
           setIsRevealed(true);
           setInputDisabled(true);
           setShowNextButton(true);
         } else {
           // Incorrect guess
           setFeedbackMessage(result.feedback);
           setFeedbackType('error');
+          setConsecutiveMisses(prev => prev + 1);
           setTriggerShake(true);
           setTimeout(() => setTriggerShake(false), 500);
         }
       } catch (error) {
         console.error('Validation error:', error);
         setFeedbackMessage('Validation failed. Try again.');
         setFeedbackType('error');
       } finally {
         setIsTyping(false);
       }
       return;
     }
 
     // Classic mode: simple string matching
     const normalizedGuess = guess.trim().toLowerCase();
     const correctAnswers = [
       currentFigure.name.toLowerCase(),
       ...currentFigure.alternateNames.map(name => name.toLowerCase())
     ];
 
     const isCorrect = correctAnswers.some(answer => normalizedGuess === answer);
 
     if (isCorrect) {
       // Correct guess
-      const points = calculatePoints(currentClueIndex);
-      setScore(prev => prev + points);
-      setFeedbackMessage(`Correct! It's ${currentFigure.name}! You earned ${points} points!`);
+      const breakdown = calculatePoints({
+        cluesUsed: currentClueIndex,
+        adaptiveHintsUsed: 0,
+        consecutiveMisses,
+      });
+      setScore(prev => prev + breakdown.total);
+      setLastRoundBreakdown(breakdown);
+      setLastRoundNumber(round);
+      setConsecutiveMisses(0);
+      setFeedbackMessage(`Correct! It's ${currentFigure.name}! You earned ${breakdown.total} points!`);
       setFeedbackType('success');
       setIsRevealed(true);
       setInputDisabled(true);
       setShowNextButton(true);
     } else {
       // Incorrect guess
       setFeedbackMessage('Not quite! Try again or reveal more clues.');
       setFeedbackType('error');
+      setConsecutiveMisses(prev => prev + 1);
       setTriggerShake(true);
       setTimeout(() => setTriggerShake(false), 500);
     }
-  }, [currentFigure, currentClueIndex, llmMode, messages, questionsAsked]);
+  }, [consecutiveMisses, currentClueIndex, currentFigure, llmMode, messages, questionsAsked, round]);
 
   // Next figure
   const nextFigure = useCallback(() => {
     const nextIndex = currentFigureIndex + 1;
     
     if (nextIndex >= shuffledFigures.length) {
       setGameEnded(true);
     } else {
       setCurrentFigureIndex(nextIndex);
       setCurrentClueIndex(1); // Auto-reveal first clue
+      setConsecutiveMisses(0);
       setRound(prev => prev + 1);
       setFeedbackMessage('');
       setFeedbackType('');
       setIsRevealed(false);
       setInputDisabled(false);
       setShowNextButton(false);
       setMessages([]);
       setQuestionsAsked(0);
     }
   }, [currentFigureIndex, shuffledFigures.length]);
 
   // Toggle between classic and LLM mode
   const handleModeToggle = useCallback(() => {
     if (isLLMConfigured()) {
       setLlmMode(prev => !prev);
     } else {
       setFeedbackMessage('Please configure your API key in .env.local to use AI mode.');
       setFeedbackType('error');
     }
   }, []);
 
   // Restart game
   const restartGame = useCallback(() => {
     initializeGame();
   }, [initializeGame]);
 
   // Start game (from welcome modal)
   const handleStartGame = useCallback(() => {
     setShowWelcome(false);
   }, []);
 
   // Show/hide documentation
   const handleShowDocs = useCallback(() => {
     setShowDocs(true);
   }, []);
 
   const handleCloseDocs = useCallback(() => {
     setShowDocs(false);
   }, []);
 
   if (!currentFigure) {
     return <div>Loading...</div>;
   }
 
   return (
     <div className="game-container">
-      <Header 
-        score={score} 
-        round={round} 
+      <Header
+        score={score}
+        round={round}
         llmMode={llmMode}
         onToggleMode={handleModeToggle}
         onShowDocs={handleShowDocs}
         disabled={inputDisabled}
+        lastRoundBreakdown={lastRoundBreakdown}
+        lastRoundNumber={lastRoundNumber}
       />
       
       <main className="game-main">
         <CharacterSilhouette revealed={isRevealed} />
         
         {llmMode ? (
           <ConversationView 
             messages={messages} 
             isTyping={isTyping}
           />
         ) : (
           <CluesList
             clues={currentFigure.clues}
             currentClueIndex={currentClueIndex}
             onRevealNextClue={revealNextClue}
             disabled={inputDisabled}
           />
         )}
 
         <GuessInput
           onSubmitGuess={handleGuess}
           onAskQuestion={llmMode ? handleAskQuestion : undefined}
           disabled={inputDisabled || isTyping}
           triggerShake={triggerShake}
           llmMode={llmMode}
diff --git a/src/components/DocumentationModal.tsx b/src/components/DocumentationModal.tsx
index 39773c547cc1b7dd8a7d4c51ffb59b93fdedb666..a5e7d422ccdd3014240c5d1990e469778e232104 100644
--- a/src/components/DocumentationModal.tsx
+++ b/src/components/DocumentationModal.tsx
@@ -21,91 +21,102 @@ export default function DocumentationModal({ isVisible, onClose, llmMode }: Docu
             </p>
           </section>
 
           {llmMode ? (
             <>
               <section className="docs-section">
                 <h3>AI Mode</h3>
                 <p><strong>How it works:</strong></p>
                 <ul className="docs-list">
                   <li>A historic figure greets you in character</li>
                   <li>Ask questions to learn more about them</li>
                   <li>The AI responds as that person, giving hints without revealing their name</li>
                   <li>Toggle to "Submit Guess" mode when ready</li>
                 </ul>
                 <p><strong>Tips:</strong></p>
                 <ul className="docs-list">
                   <li>Start with broad questions (era, field of work)</li>
                   <li>Ask about specific achievements or events</li>
                   <li>The AI gets more specific as you ask more questions</li>
                   <li>Fewer questions = higher score!</li>
                 </ul>
               </section>
 
               <section className="docs-section">
                 <h3>Scoring (AI Mode)</h3>
-                <p>Base score: <strong>100 points</strong></p>
-                <p>Each question: <strong>-5 points</strong></p>
-                <p>Minimum: <strong>25 points</strong></p>
-                <p>Quick bonus: <strong>+20 points</strong> (if guessed in under 5 questions)</p>
+                <p>Start with <strong>100 points</strong> per round.</p>
+                <ul className="docs-list">
+                  <li>Each question/adaptive hint: <strong>-5 points</strong></li>
+                  <li>Each consecutive wrong guess: <strong>-5 points</strong></li>
+                </ul>
+                <p>
+                  Rounds can't go below <strong>25 points</strong>, so keep hints and misses low for the best score.
+                  The header shows the base points and every penalty applied for the last round.
+                </p>
               </section>
             </>
           ) : (
             <>
               <section className="docs-section">
                 <h3>Classic Mode</h3>
                 <p><strong>How it works:</strong></p>
                 <ul className="docs-list">
                   <li>Read the first clue about a historic figure</li>
                   <li>Click "Reveal Next Clue" for more information</li>
                   <li>Clues progress from vague to specific</li>
                   <li>Submit your guess when ready</li>
                 </ul>
                 <p><strong>Tips:</strong></p>
                 <ul className="docs-list">
                   <li>Try to guess with fewer clues for more points</li>
                   <li>Clue 1 is most vague, Clue 5 is most obvious</li>
                   <li>You can guess at any time</li>
                 </ul>
               </section>
 
               <section className="docs-section">
                 <h3>Scoring (Classic Mode)</h3>
-                <p>Base score: <strong>100 points</strong></p>
-                <p>Each clue revealed: <strong>-10 points</strong></p>
-                <p>Minimum: <strong>50 points</strong></p>
+                <p>Start with <strong>100 points</strong> per round.</p>
+                <ul className="docs-list">
+                  <li>Every extra clue beyond the first: <strong>-10 points</strong></li>
+                  <li>Each consecutive wrong guess: <strong>-5 points</strong></li>
+                </ul>
+                <p>
+                  Rounds can't go below <strong>25 points</strong>, so guess confidently and use clues wisely.
+                  The header shows the base points and every penalty applied for the last round.
+                </p>
               </section>
             </>
           )}
 
           <section className="docs-section">
             <h3>Submitting Guesses</h3>
             <ul className="docs-list">
               <li>Enter the person's full name or last name</li>
               <li>Spelling variations are usually accepted</li>
               <li>In AI mode, the AI validates guesses intelligently</li>
-              <li>Wrong guesses don't penalize your score - keep trying!</li>
+              <li>Consecutive wrong guesses subtract a few points, so adjust your approach if you're stuck.</li>
             </ul>
           </section>
 
           <section className="docs-section">
             <h3>Switching Modes</h3>
             <p>
               Click the mode button in the top right to switch between AI Mode and Classic Mode.
               You can switch at any time, even mid-game!
             </p>
           </section>
 
           <section className="docs-section">
             <h3>Current Figures</h3>
             <p>The game includes 5 historic figures:</p>
             <ul className="docs-list">
               <li>Scientists and inventors</li>
               <li>Artists and writers</li>
               <li>Leaders and pioneers</li>
             </ul>
             <p className="docs-note">
               More figures coming soon! The game shuffles them randomly each time you play.
             </p>
           </section>
         </div>
 
diff --git a/src/components/Header.tsx b/src/components/Header.tsx
index 8656eebe2f90de8f067531e17bc5570b43d21484..5bfb67647223128f3808bc75d2dc183f9ed5294c 100644
--- a/src/components/Header.tsx
+++ b/src/components/Header.tsx
@@ -1,43 +1,79 @@
+import type { ScoreBreakdown } from '../utils/gameUtils';
+
 interface HeaderProps {
   score: number;
   round: number;
   llmMode: boolean;
   onToggleMode: () => void;
   onShowDocs: () => void;
   disabled?: boolean;
+  lastRoundBreakdown?: ScoreBreakdown | null;
+  lastRoundNumber?: number | null;
 }
 
-export default function Header({ score, round, llmMode, onToggleMode, onShowDocs, disabled = false }: HeaderProps) {
+export default function Header({
+  score,
+  round,
+  llmMode,
+  onToggleMode,
+  onShowDocs,
+  disabled = false,
+  lastRoundBreakdown,
+  lastRoundNumber,
+}: HeaderProps) {
+  const renderBreakdown = () => {
+    if (!lastRoundBreakdown) return null;
+
+    const { cluesUsed, adaptiveHintsUsed, consecutiveMisses } = lastRoundBreakdown;
+    const formatPenalty = (label: string, count: number, penalty: number) => {
+      if (penalty === 0) return `${label} 0`;
+      const pluralizedLabel = count === 1 ? label : `${label}s`;
+      return `${label} (${count} ${pluralizedLabel}) ${penalty}`;
+    };
+
+    return (
+      <div className="score-item">
+        <span className="score-label">
+          Last Round{lastRoundNumber ? ` (Round ${lastRoundNumber})` : ''}
+        </span>
+        <span className="score-value">
+          {`${lastRoundBreakdown.basePoints} - ${formatPenalty('clue', cluesUsed, lastRoundBreakdown.cluePenalty)} - ${formatPenalty('hint', adaptiveHintsUsed, lastRoundBreakdown.hintPenalty)} - ${formatPenalty('miss', consecutiveMisses, lastRoundBreakdown.wrongGuessPenalty)} = ${lastRoundBreakdown.total}`}
+        </span>
+      </div>
+    );
+  };
+
   return (
     <header className="game-header">
       <div className="navbar">
         <h1 className="game-title">Who Am I?</h1>
         <div className="navbar-controls">
           <button
             className="docs-btn"
             onClick={onShowDocs}
           >
             How to Play
           </button>
           <button
             className="mode-toggle-btn"
             onClick={onToggleMode}
             disabled={disabled}
           >
             {llmMode ? 'AI Mode' : 'Classic Mode'}
           </button>
         </div>
       </div>
       <div className="score-board">
         <div className="score-item">
           <span className="score-label">Round</span>
           <span className="score-value">{round}</span>
         </div>
         <div className="score-item">
           <span className="score-label">Score</span>
           <span className="score-value">{score}</span>
         </div>
+        {renderBreakdown()}
       </div>
     </header>
   );
 }
diff --git a/src/utils/gameUtils.ts b/src/utils/gameUtils.ts
index 323331c203178692bc8193bcc2da522e592149e9..e6ce2a93a3003008e19d9f17dc5aacf080c450ce 100644
--- a/src/utils/gameUtils.ts
+++ b/src/utils/gameUtils.ts
@@ -1,14 +1,69 @@
 import type { HistoricFigure } from '../types';
 
 export function shuffleArray(array: HistoricFigure[]): HistoricFigure[] {
   const shuffled = [...array];
   for (let i = shuffled.length - 1; i > 0; i--) {
     const j = Math.floor(Math.random() * (i + 1));
     [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
   }
   return shuffled;
 }
 
-export function calculatePoints(cluesUsed: number): number {
-  return Math.max(50, 100 - (cluesUsed - 1) * 10);
+export interface ScoreWeights {
+  basePoints: number;
+  minPoints: number;
+  extraClueWeight: number;
+  adaptiveHintWeight: number;
+  wrongGuessWeight: number;
+}
+
+export interface ScoreBreakdown {
+  basePoints: number;
+  cluesUsed: number;
+  adaptiveHintsUsed: number;
+  consecutiveMisses: number;
+  cluePenalty: number;
+  hintPenalty: number;
+  wrongGuessPenalty: number;
+  rawTotal: number;
+  total: number;
+}
+
+export const defaultScoreWeights: ScoreWeights = {
+  basePoints: 100,
+  minPoints: 25,
+  extraClueWeight: 10,
+  adaptiveHintWeight: 5,
+  wrongGuessWeight: 5,
+};
+
+export interface ScoringInputs {
+  cluesUsed: number;
+  adaptiveHintsUsed: number;
+  consecutiveMisses: number;
+}
+
+export function calculatePoints(
+  { cluesUsed, adaptiveHintsUsed, consecutiveMisses }: ScoringInputs,
+  weights: ScoreWeights = defaultScoreWeights
+): ScoreBreakdown {
+  const extraClues = Math.max(0, cluesUsed - 1);
+  const cluePenalty = extraClues * weights.extraClueWeight;
+  const hintPenalty = Math.max(0, adaptiveHintsUsed) * weights.adaptiveHintWeight;
+  const wrongGuessPenalty = Math.max(0, consecutiveMisses) * weights.wrongGuessWeight;
+
+  const rawTotal = weights.basePoints - cluePenalty - hintPenalty - wrongGuessPenalty;
+  const total = Math.max(weights.minPoints, rawTotal);
+
+  return {
+    basePoints: weights.basePoints,
+    cluesUsed,
+    adaptiveHintsUsed,
+    consecutiveMisses,
+    cluePenalty,
+    hintPenalty,
+    wrongGuessPenalty,
+    rawTotal,
+    total,
+  };
 }
 
EOF
)
